<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layout}" xmlns="http://www.w3.org/1999/html">

<body>

<div layout:fragment="content">

    <div class="container-fluid">
        <h3 class="text-dark mb-4">Perfil</h3>
        <div class="row mb-3">
            <div class="col-lg-4">
                <div class="card mb-3">
                    <div class="card-body text-center shadow"><img class="rounded-circle mb-3 mt-4" width="160" height="160" th:src="${logeduser.avatar}">


                        <form th:action="@{/prueba/save}" th:object="${logeduser}" th:method="post">


                            <input type="hidden" th:field="*{id}">
                            <input type="hidden" th:field="*{email}">
                            <input type="hidden" th:field="*{password}">
                            <input type="hidden" th:field="*{username}">
                            <input type="hidden" th:field="*{apellido1}">
                            <input type="hidden" th:field="*{apellido2}">
                            <input type="hidden" th:field="*{active}">
                            <input type="hidden" th:field="*{role}">
                            <input type="hidden" th:field="*{altura}">
                            <input type="hidden" th:field="*{fechaNacim}">
                            <input type="hidden" th:field="*{nombre}">
                            <input type="hidden" th:field="*{peso}">
                            <input type="hidden" th:field="*{sexo}">
                            <div class="form-group">
                                <label for="avatar">Avatar:</label>
                                <select name="avatar" id="avatar">
                                    <option th:each="files: ${files}" th:text="${files.fileName}" th:value="${files.url.toString().substring(21)}"></option>

                                </select>
                            </div>

                            <button type="submit" class="btn btn-primary">Cambiar foto</button>
                            <a type="button" class="btn btn-primary" th:href="@{/files}" >
                                Subir foto</a>

                        </form>

                    </div>
                </div>
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="text-primary fw-bold m-0">Mejoras</h6>
                    </div>
                    <div class="card-body">
                        <h4 class="small fw-bold">Fuerza<span class="float-end">20%</span></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-danger" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"
                                 style="width: 20%;"><span class="visually-hidden">20%</span></div>
                        </div>
                        <h4 class="small fw-bold">Resistencia<span class="float-end">40%</span></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-warning" aria-valuenow="40" aria-valuemin="0"
                                 aria-valuemax="100" style="width: 40%;"><span class="visually-hidden">40%</span></div>
                        </div>
                        <h4 class="small fw-bold">Cardio<span class="float-end">60%</span></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" aria-valuenow="60" aria-valuemin="0"
                                 aria-valuemax="100" style="width: 60%;"><span class="visually-hidden">60%</span></div>
                        </div>
                        <h4 class="small fw-bold">Peso ideal<span class="float-end">80%</span></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-info" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"
                                 style="width: 80%;"><span class="visually-hidden">80%</span></div>
                        </div>
                        <h4 class="small fw-bold">Account setup<span class="float-end">Complete!</span></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-success" aria-valuenow="100" aria-valuemin="0"
                                 aria-valuemax="100" style="width: 100%;"><span class="visually-hidden">100%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="row mb-3 d-none">
                    <div class="col">
                        <div class="card text-white bg-primary shadow">
                            <div class="card-body">
                                <div class="row mb-2">
                                    <div class="col">
                                        <p class="m-0">Peformance</p>
                                        <p class="m-0"><strong>65.2%</strong></p>
                                    </div>
                                    <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
                                </div>
                                <p class="text-white-50 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;5% since last
                                    month</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card text-white bg-success shadow">
                            <div class="card-body">
                                <div class="row mb-2">
                                    <div class="col">
                                        <p class="m-0">Peformance</p>
                                        <p class="m-0"><strong>65.2%</strong></p>
                                    </div>
                                    <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
                                </div>
                                <p class="text-white-50 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;5% since last
                                    month</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="card shadow mb-3">
                            <div class="card-header py-3">
                                <p class="text-primary m-0 fw-bold">Ajustes de usuario</p>
                            </div>
                            <div class="card-body">
                                <form th:action="@{/prueba/save}" th:object="${logeduser}" th:method="post">
                                    <div>
                                        <input type="hidden" th:field="*{id}">
                                        <input type="hidden" th:field="*{active}">
                                        <input type="hidden" th:field="*{role}">
                                        <input type="hidden" th:field="*{altura}">
                                        <input type="hidden" th:field="*{fechaNacim}">
                                        <input type="hidden" th:field="*{password}">
                                        <input type="hidden" th:field="*{peso}">
                                        <input type="hidden" th:field="*{sexo}">
                                        <input type="hidden" th:field="*{avatar}">
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label" for="username">
                                                <strong>Nombre de usuario</strong></label><input
                                                    class="form-control" type="text" id="username" th:field="*{username}"
                                                    placeholder="user.name" name="username"></div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label" for="email"><strong>Email
                                            </strong></label><input class="form-control" type="email" th:field="*{email}"
                                                                    id="email" placeholder="user@example.com"
                                                                    name="email"></div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label"
                                                                     for="first_name"><strong>Nombre</strong></label><input
                                                    class="form-control" type="text"
                                                    id="first_name" placeholder="John" th:field="*{nombre}"
                                                    name="first_name"></div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3">
                                                <label class="form-label" for="apellido1">
                                                <strong>1º Apellido</strong>
                                                </label>
                                                <input
                                                    class="form-control" type="text"
                                                    id="apellido1" placeholder="Doe" th:field="*{apellido1}"
                                                    name="last_name">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label"
                                                                     for="apellido2"><strong>2º Apellido</strong></label><input
                                                    class="form-control" type="text"
                                                    id="apellido2" placeholder="John" th:field="*{apellido2}"
                                                    name="first_name"></div>
                                        </div>
                                        <div class="col">
                                        <div class="mb-3">

                                             <br>

                                        <a type="button" class="btn btn-primary"
                                           th:href="@{/usuarios/editpass/{id}(id=${usuario.id})}"
                                           th:if="${usuario.username}==${#authentication.principal.username}"
                                           th:each="usuario : ${usuario.listartodos()}" >
                                            Cambiar contraseña</a>
                                        </div>
                                        </div>
<!--                                        <div class="col">-->
<!--                                            <div class="mb-3">-->
<!--                                                <label class="form-label" for="password">-->
<!--                                                    <strong>Contraseña</strong>-->
<!--                                                </label>-->
<!--                                                <input-->
<!--                                                        class="form-control" type="text"-->
<!--                                                        id="password" placeholder="Doe" th:field="*{password}"-->
<!--                                                        name="last_name">-->
<!--                                            </div>-->
<!--                                        </div>-->
                                    </div>
                                    <div class="mb-3">
                                        <button class="btn btn-primary btn-sm" type="submit">Guardar datos</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <p class="text-primary m-0 fw-bold">Detalles de contacto</p>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3"><label class="form-label"
                                                             for="address"><strong>Dirección</strong></label><input
                                            class="form-control" type="text" id="address" placeholder="Desengaño, 21"
                                            name="address"></div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label" for="city"><strong>City</strong></label><input
                                                    class="form-control" type="text" id="city" placeholder="Alcobendas"
                                                    name="city"></div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label"
                                                                     for="country"><strong>Country</strong></label><input
                                                    class="form-control" type="text" id="country" placeholder="¡¡¡¡ESPAÑA!!!!"
                                                    name="country"></div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <button class="btn btn-primary btn-sm" type="submit">Guardar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <p class="text-primary m-0 fw-bold">Detalles de usuario</p>
                            </div>
                            <div class="card-body">
                                <form th:action="@{/prueba/save}" th:object="${logeduser}" th:method="post">
                                    <div>
                                        <input type="hidden" th:field="*{id}">
                                        <input type="hidden" th:field="*{email}">
                                        <input type="hidden" th:field="*{password}">
                                        <input type="hidden" th:field="*{username}">
                                        <input type="hidden" th:field="*{apellido1}">
                                        <input type="hidden" th:field="*{apellido2}">
                                        <input type="hidden" th:field="*{active}">
                                        <input type="hidden" th:field="*{role}">
                                        <input type="hidden" th:field="*{nombre}">
                                        <input type="hidden" th:field="*{avatar}">
                                        <input type="hidden" th:field="*{fechaNacim}">
                                    </div>
<!--                                    <div class="mb-3"><label class="form-label"-->
<!--                                                             for="fecha"><strong>Fecha</strong></label><input-->
<!--                                            th:field="*{fechaNacim}"-->
<!--                                            class="form-control" type="datetime-local" id="fecha" placeholder="Sunset Blvd, 38"-->
<!--                                            name="address"></div>-->
                                    <div class="mb-3"><label class="form-label"
                                                             for="peso"><strong>Peso</strong></label><input
                                            class="form-control" type="number" id="peso" placeholder="Sunset Blvd, 38"
                                            th:field="*{peso}"
                                            name="peso"></div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label" for="sexo"><strong>Sexo</strong></label>
                                                <select name="sexo" id="sexo">
                                                    <option th:text="Hombre" th:field="*{sexo}" th:value="1"></option>
                                                    <option th:text="Mujer" th:field="*{sexo}" th:value="0"></option>
                                                </select>
                                                </div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label"
                                                                     for="altura"><strong>Altura</strong></label><input
                                                    class="form-control" type="number" id="altura" placeholder="USA" th:field="*{altura}"
                                                    name="altura"></div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <button class="btn btn-primary btn-sm" type="submit">Guardar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card shadow mb-5">
            <div class="card-header py-3">
                <p class="text-primary m-0 fw-bold">Contacto</p>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <form>
                            <div class="mb-3"><label class="form-label"
                                                     for="signature"><strong>Mensaje</strong><br></label><textarea
                                    class="form-control" id="signature" rows="4" name="signature"></textarea></div>
<!--                            <div class="mb-3">-->
<!--                                <div class="form-check form-switch"><input class="form-check-input" type="checkbox"-->
<!--                                                                           id="formCheck-1"><label-->
<!--                                        class="form-check-label" for="formCheck-1"><strong>Notify me about new-->
<!--                                    replies</strong></label></div>-->
<!--                            </div>-->
                            <div class="mb-3">
                                <button class="btn btn-primary btn-sm" type="submit">Guardar ajustes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

</body>
</html>